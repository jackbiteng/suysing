<?xml version="1.0"?>
<odoo>
    <!-- Form View -->

    <record id="drive_service_config_view_form" model="ir.ui.view">
        <field name="name">drive.service.config.view.form</field>
        <field name="model">drive.service.config</field>
        <field name="arch" type="xml">
            <form string="Service Config">
                <header>
                    <button name="test_connection" type="object" string="Test Connection" attrs="{'invisible': [('connected', '=', True)]}"/>
                    <button name="disconnect_connection" type="object" string="Disconnect" attrs="{'invisible': [('connected', '=', False)]}"/>
                </header>
                <sheet>
                    <widget name="web_ribbon" title="Connected" attrs="{'invisible': [('connected', '=', False)]}"/>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" placeholder="e.g. Service Config" attrs="{'readonly': [('connected', '=', True)]}"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="connected" invisible="1" />
                            <field name="folder_id" attrs="{'readonly': [('connected', '=', True)]}"/>
                            <field name="dest_folder_id" attrs="{'readonly': [('connected', '=', True)]}"/>
                        </group>
                        <group>
                            <field name="api_name" />
                            <field name="api_version" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    
    <!-- Tree View -->
    <record id="drive_service_config_view_tree" model="ir.ui.view">
        <field name="name">drive.service.config.view.tree</field>
        <field name="model">drive.service.config</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="folder_id" />
                <field name="api_name" />
                <field name="api_version" />
            </tree>
        </field>
    </record>

    <!-- Action -->
    <record id="action_drive_service_config" model="ir.actions.act_window">
        <field name="name">Drive Service Config</field>
        <field name="res_model">drive.service.config</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" eval="False"/>
        <field name="context">{}</field>
        <field name="help">use for Drive Service Config</field>
    </record>
    <!-- Menu -->
    <menuitem id="menu_drive_service_config"
        name="Drive Service Config"
        parent="gd_api_auto_read.crm_menu_google_drive_integration"
        sequence="1"
        action="action_drive_service_config"/>
</odoo>
